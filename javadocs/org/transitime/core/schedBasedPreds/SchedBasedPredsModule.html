<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Fri Sep 04 18:09:05 PDT 2015 -->
<title>SchedBasedPredsModule</title>
<meta name="date" content="2015-09-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SchedBasedPredsModule";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SchedBasedPredsModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/schedBasedPreds/SchedBasedPredsModule.html" target="_top">Frames</a></li>
<li><a href="SchedBasedPredsModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core.schedBasedPreds</div>
<h2 title="Class SchedBasedPredsModule" class="title">Class SchedBasedPredsModule</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/transitime/modules/Module.html" title="class in org.transitime.modules">org.transitime.modules.Module</a></li>
<li>
<ul class="inheritance">
<li>org.transitime.core.schedBasedPreds.SchedBasedPredsModule</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">SchedBasedPredsModule</span>
extends <a href="../../../../org/transitime/modules/Module.html" title="class in org.transitime.modules">Module</a></pre>
<div class="block">The schedule based predictions module runs in the background. Every few
 minutes it looks for blocks that do not have an associated vehicle. For these
 blocks the module creates a schedule based vehicle at the location of the
 beginning of the block and generates predictions for the entire block that
 are based on the scheduled departure time. The purpose of this module is to
 generate predictions well in advance even if vehicles are assigned just a few
 minutes before a vehicle is scheduled to start a block. This feature should
 of course only be used if most of the time the blocks are actually run. It
 should not be used for agencies such as SFMTA where blocks/trips are often
 missed because would then be often providing predictions when no vehicle will
 arrive.
 <p>
 Schedule based predictions are removed once a regular vehicle is assigned to
 the block or the schedule based vehicle is timed out via TimeoutHandlerModule
 due to it being transitime.timeout.allowableNoAvlForSchedBasedPredictions
 after the scheduled departure time for the assignment.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>SkiBu Smith</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/schedBasedPreds/SchedBasedPredsModule.html#SchedBasedPredsModule-java.lang.String-">SchedBasedPredsModule</a></span>(java.lang.String&nbsp;agencyId)</code>
<div class="block">The constructor for the module.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/schedBasedPreds/SchedBasedPredsModule.html#getAfterStartTimeMins--">getAfterStartTimeMins</a></span>()</code>
<div class="block">How long after start time of block want to created schedule based
 prediction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/schedBasedPreds/SchedBasedPredsModule.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/schedBasedPreds/SchedBasedPredsModule.html#shouldTimeoutVehicle-org.transitime.core.VehicleState-long-">shouldTimeoutVehicle</a></span>(<a href="../../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState,
                    long&nbsp;now)</code>
<div class="block">Determines if schedule based vehicle should be timed out.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.transitime.modules.Module">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.transitime.modules.<a href="../../../../org/transitime/modules/Module.html" title="class in org.transitime.modules">Module</a></h3>
<code><a href="../../../../org/transitime/modules/Module.html#start--">start</a>, <a href="../../../../org/transitime/modules/Module.html#start-java.lang.String-">start</a>, <a href="../../../../org/transitime/modules/Module.html#start-java.lang.String-java.lang.String-">start</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SchedBasedPredsModule-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SchedBasedPredsModule</h4>
<pre>public&nbsp;SchedBasedPredsModule(java.lang.String&nbsp;agencyId)</pre>
<div class="block">The constructor for the module. Called automatically if the module
 is configured.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>agencyId</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAfterStartTimeMins--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAfterStartTimeMins</h4>
<pre>public static&nbsp;int&nbsp;getAfterStartTimeMins()</pre>
<div class="block">How long after start time of block want to created schedule based
 prediction. Negative value means feature disabled and schedule based
 vehicles should be created and be active all the way up until end time of
 block.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Time after start time of block that block considered active</dd>
</dl>
</li>
</ul>
<a name="shouldTimeoutVehicle-org.transitime.core.VehicleState-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldTimeoutVehicle</h4>
<pre>public static&nbsp;java.lang.String&nbsp;shouldTimeoutVehicle(<a href="../../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState,
                                                    long&nbsp;now)</pre>
<div class="block">Determines if schedule based vehicle should be timed out. A schedule
 based vehicle should be timed out if the block is now over (now is passed
 the end time of the block) or if passed the start time of the block by
 more than the allowable number of minutes (a real vehicle was never
 assigned to the block).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vehicleState</code> - </dd>
<dd><code>now</code> - Current time</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An event description if the schedule based vehicle should be
         timed out and predictions should be removed, otherwise null</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SchedBasedPredsModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/schedBasedPreds/SchedBasedPredsModule.html" target="_top">Frames</a></li>
<li><a href="SchedBasedPredsModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
