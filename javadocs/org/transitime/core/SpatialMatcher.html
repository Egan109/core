<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Fri Sep 04 18:09:09 PDT 2015 -->
<title>SpatialMatcher</title>
<meta name="date" content="2015-09-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SpatialMatcher";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpatialMatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/transitime/core/TemporalDifference.html" title="class in org.transitime.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/core/SpatialMatcher.html" target="_top">Frames</a></li>
<li><a href="SpatialMatcher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core</div>
<h2 title="Class SpatialMatcher" class="title">Class SpatialMatcher</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.core.SpatialMatcher</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SpatialMatcher</span>
extends java.lang.Object</pre>
<div class="block">For determining possible spatial matches. A spatial match is when the AVL
 report location is within allowable distance of the path segment and the
 heading is OK and the distance to the segment is a local minimum (it is a
 best match).</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>SkiBu Smith</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/transitime/core/SpatialMatcher.html#getSpatialMatches-org.transitime.db.structs.AvlReport-org.transitime.db.structs.Block-java.util.List-">getSpatialMatches</a></span>(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport,
                 <a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;block,
                 java.util.List&lt;<a href="../../../org/transitime/db/structs/Trip.html" title="class in org.transitime.db.structs">Trip</a>&gt;&nbsp;tripsToInvestigate)</code>
<div class="block">Goes through the Block assignment data and determines the closest spatial
 matches.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/transitime/core/SpatialMatcher.html#getSpatialMatches-org.transitime.core.VehicleState-">getSpatialMatches</a></span>(<a href="../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</code>
<div class="block">Starts at the previous match and goes from that point forward through the
 block assignment looking for the best spatial matches.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/transitime/core/SpatialMatcher.html#getSpatialMatchesIgnoringLayovers-org.transitime.db.structs.AvlReport-org.transitime.db.structs.Block-java.util.List-">getSpatialMatchesIgnoringLayovers</a></span>(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport,
                                 <a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;block,
                                 java.util.List&lt;<a href="../../../org/transitime/db/structs/Trip.html" title="class in org.transitime.db.structs">Trip</a>&gt;&nbsp;tripsToInvestigate)</code>
<div class="block">Goes through the Block assignment data and determines the closest spatial
 matches that are not for layovers.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/transitime/core/SpatialMatcher.html#problemMatchDueToLackOfHeadingInfo-org.transitime.core.SpatialMatch-org.transitime.core.VehicleState-">problemMatchDueToLackOfHeadingInfo</a></span>(<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;spatialMatch,
                                  <a href="../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</code>
<div class="block">Checks to see if for a non-layover match if can verify that the vehicle
 is moving in the proper direction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="problemMatchDueToLackOfHeadingInfo-org.transitime.core.SpatialMatch-org.transitime.core.VehicleState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>problemMatchDueToLackOfHeadingInfo</h4>
<pre>public static&nbsp;boolean&nbsp;problemMatchDueToLackOfHeadingInfo(<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;spatialMatch,
                                                         <a href="../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</pre>
<div class="block">Checks to see if for a non-layover match if can verify that the vehicle
 is moving in the proper direction. This is intended to avoid matching
 vehicle to wrong trip. Only concerned with non-layover matches because
 for layovers heading doesn't matter since vehicle is supposed to be able
 to move around on indeterminate path to the layover stop.
 <p>
 If cannot confirm that the heading of the vehicle matches then should
 reject all matches so that won't wrongly match to a layover for another
 trip. When get another AVL report for the vehicle will then be able to
 see if heading proper using two AVL reports.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>spatialMatch</code> - The spatial match that should be investigated</dd>
<dd><code>vehicleState</code> - For determining previous AVL reports</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if for a non-layover match that couldn't verify that vehicle
         heading in proper direction for the match.</dd>
</dl>
</li>
</ul>
<a name="getSpatialMatches-org.transitime.db.structs.AvlReport-org.transitime.db.structs.Block-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpatialMatches</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&gt;&nbsp;getSpatialMatches(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport,
                                                             <a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;block,
                                                             java.util.List&lt;<a href="../../../org/transitime/db/structs/Trip.html" title="class in org.transitime.db.structs">Trip</a>&gt;&nbsp;tripsToInvestigate)</pre>
<div class="block">Goes through the Block assignment data and determines the closest spatial
 matches. For first matching a vehicle to a block assignment. Matches must
 be within getMaxAllowableDistanceFromSegment() except layovers are always
 included since vehicle are allowed to be away from the route path during
 layovers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>avlReport</code> - The AVL report to match to the block</dd>
<dd><code>block</code> - The block being investigated</dd>
<dd><code>tripsToInvestigate</code> - List of trips that should bother investigating. The calling
            function can determine which trips are currently active and
            pass that list in such that this method doesn't need to look
            through all trips.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>non-null possibly empty list of spatial matches</dd>
</dl>
</li>
</ul>
<a name="getSpatialMatchesIgnoringLayovers-org.transitime.db.structs.AvlReport-org.transitime.db.structs.Block-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpatialMatchesIgnoringLayovers</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&gt;&nbsp;getSpatialMatchesIgnoringLayovers(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport,
                                                                             <a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;block,
                                                                             java.util.List&lt;<a href="../../../org/transitime/db/structs/Trip.html" title="class in org.transitime.db.structs">Trip</a>&gt;&nbsp;tripsToInvestigate)</pre>
<div class="block">Goes through the Block assignment data and determines the closest spatial
 matches that are not for layovers. For first matching a vehicle to a
 block assignment. Matches must be within
 getMaxAllowableDistanceFromSegment() except layovers are always included
 since vehicle are allowed to be away from the route path during layovers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>avlReport</code> - The AVL report to match to the block</dd>
<dd><code>block</code> - The block to investigate</dd>
<dd><code>tripsToInvestigate</code> - List of trips that should bother investigating. The calling
            function can determine which trips are currently active and
            pass that list in such that this method doesn't need to look
            through all trips.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>non-null possibly empty list of spatial matches</dd>
</dl>
</li>
</ul>
<a name="getSpatialMatches-org.transitime.core.VehicleState-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getSpatialMatches</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&gt;&nbsp;getSpatialMatches(<a href="../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</pre>
<div class="block">Starts at the previous match and goes from that point forward through the
 block assignment looking for the best spatial matches. Intended for when
 have a predictable vehicle already matched to an assignment and then get
 a new AVL report that needs to be matched.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vehicleState</code> - the previous vehicle state</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of possible spatial matches. If no spatial matches then
         returns empty list (as opposed to null)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpatialMatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/transitime/core/TemporalDifference.html" title="class in org.transitime.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/core/SpatialMatcher.html" target="_top">Frames</a></li>
<li><a href="SpatialMatcher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
