<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Fri Sep 04 18:09:04 PDT 2015 -->
<title>PredictionDataCache</title>
<meta name="date" content="2015-09-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PredictionDataCache";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PredictionDataCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/transitime/core/dataCache/VehicleDataCache.html" title="class in org.transitime.core.dataCache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/dataCache/PredictionDataCache.html" target="_top">Frames</a></li>
<li><a href="PredictionDataCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core.dataCache</div>
<h2 title="Class PredictionDataCache" class="title">Class PredictionDataCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.core.dataCache.PredictionDataCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PredictionDataCache</span>
extends java.lang.Object</pre>
<div class="block">For storing and retrieving predictions by stop.
 <p>
 Concurrency and thread safety is very important in this class since will
 have multiple threads writing and reading predictions. Need to make sure
 that the predictions obtained are always complete, even if another thread
 is simultaneously updating predictions by removing one and then adding
 an updated prediction. Otherwise might obtain predictions when the
 old one has been removed but the new one has not yet been written, causing
 a prediction to be missed.
 <p>
 For concurrency and thread safety using ConcurrentHashMap instead of 
 HashMap. 
 <p> 
 getPredictions() returns a copy of the list of predictions for the
 route/stop. This way the contents will always be coherent and the 
 caller does not need to synchronize, which would be difficult to
 enforce.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>SkiBu Smith</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#PredictionDataCache--">PredictionDataCache</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getAllPredictions-int-long-">getAllPredictions</a></span>(int&nbsp;maxPredictionsPerStop,
                 long&nbsp;maxSystemTimeForPrediction)</code>
<div class="block">Returns copy of all predictions for system, limited by
 maxPredictionsPerStop and maxPredictionTime.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html" title="class in org.transitime.core.dataCache">PredictionDataCache</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Returns singleton object for this class.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictionForVehicle-java.lang.String-java.lang.String-java.lang.String-">getPredictionForVehicle</a></span>(java.lang.String&nbsp;vehicleId,
                       java.lang.String&nbsp;routeShortName,
                       java.lang.String&nbsp;stopId)</code>
<div class="block">Gets predictions for specified route/stop and returns the first one for
 the specified vehicle.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions-java.util.List-">getPredictions</a></span>(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops)</code>
<div class="block">Returns copy of all predictions currently associated for each route/stop specified.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions-java.util.List-int-">getPredictions</a></span>(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops,
              int&nbsp;predictionsPerStop)</code>
<div class="block">Returns copy of List<PredictionsForRouteStop> objects for each route/stop
 specified.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions-java.lang.String-java.lang.String-">getPredictions</a></span>(java.lang.String&nbsp;routeIdOrShortName,
              java.lang.String&nbsp;stopId)</code>
<div class="block">Returns copy of all predictions currently associated with the stop.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions-java.lang.String-java.lang.String-java.lang.String-">getPredictions</a></span>(java.lang.String&nbsp;routeIdOrShortName,
              java.lang.String&nbsp;directionId,
              java.lang.String&nbsp;stopId)</code>
<div class="block">Returns copy of all predictions currently associated with the stop.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions-java.lang.String-java.lang.String-java.lang.String-int-">getPredictions</a></span>(java.lang.String&nbsp;routeIdOrShortName,
              java.lang.String&nbsp;directionId,
              java.lang.String&nbsp;stopId,
              int&nbsp;maxPredictionsPerStop)</code>
<div class="block">Returns copy of the PredictionsForRouteStop object.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions-java.lang.String-java.lang.String-java.lang.String-int-double-">getPredictions</a></span>(java.lang.String&nbsp;routeIdOrShortName,
              java.lang.String&nbsp;stopId,
              java.lang.String&nbsp;directionId,
              int&nbsp;maxPredictionsPerStop,
              double&nbsp;distanceToStop)</code>
<div class="block">Returns copy of the PredictionsForRouteStop object.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#removePredictions-org.transitime.core.VehicleState-">removePredictions</a></span>(<a href="../../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</code>
<div class="block">To be called when vehicle is being made unpredictable.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#updatePredictions-java.util.List-java.util.List-">updatePredictions</a></span>(java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;oldPredictionsForVehicle,
                 java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;newPredictionsForVehicle)</code>
<div class="block">Updates predictions in the cache that are associated with a vehicle.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PredictionDataCache--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PredictionDataCache</h4>
<pre>public&nbsp;PredictionDataCache()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html" title="class in org.transitime.core.dataCache">PredictionDataCache</a>&nbsp;getInstance()</pre>
<div class="block">Returns singleton object for this class. It will use the regular
 SystemCurrentTime class for determining the time and whether any 
 predictions are obsolete.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getPredictions-java.lang.String-java.lang.String-java.lang.String-int-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeIdOrShortName,
                                                                     java.lang.String&nbsp;stopId,
                                                                     java.lang.String&nbsp;directionId,
                                                                     int&nbsp;maxPredictionsPerStop,
                                                                     double&nbsp;distanceToStop)</pre>
<div class="block">Returns copy of the PredictionsForRouteStop object. This is the low-level
 method that actually gets the appropriate predictions. A clone is used so
 that it can be accessed as needed without worrying about another thread
 writing to it. The list of predictions should be relatively small so
 cloning is not very costly. And this way the caller of this method
 doesn't have to synchronize or such.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeIdOrShortName</code> - </dd>
<dd><code>stopId</code> - </dd>
<dd><code>directionId</code> - Optional parameter for specifying that only want predictions
            for a specific directionId. Set to null if want predictions
            for all directions.</dd>
<dd><code>maxPredictionsPerStop</code> - </dd>
<dd><code>distanceToStop</code> - For when getting predictions by location</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="getPredictions-java.lang.String-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeIdOrShortName,
                                                                     java.lang.String&nbsp;directionId,
                                                                     java.lang.String&nbsp;stopId,
                                                                     int&nbsp;maxPredictionsPerStop)</pre>
<div class="block">Returns copy of the PredictionsForRouteStop object. A clone is used so
 that it can be accessed as needed without worrying about another thread
 writing to it. The list of predictions should be relatively small so
 cloning is not very costly. And this way the caller of this method
 doesn't have to synchronize or such.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeIdOrShortName</code> - </dd>
<dd><code>directionId</code> - Optional parameter for specifying that only want predictions
            for a specific directionId. Set to null if want predictions
            for all directions.</dd>
<dd><code>stopId</code> - </dd>
<dd><code>maxPredictionsPerStop</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="getPredictions-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeIdOrShortName,
                                                                     java.lang.String&nbsp;directionId,
                                                                     java.lang.String&nbsp;stopId)</pre>
<div class="block">Returns copy of all predictions currently associated with the stop. Uses
 routeShortName instead of the GTFS routeId to identify the stop.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeIdOrShortName</code> - </dd>
<dd><code>directionId</code> - </dd>
<dd><code>stopId</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="getPredictions-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeIdOrShortName,
                                                                     java.lang.String&nbsp;stopId)</pre>
<div class="block">Returns copy of all predictions currently associated with the stop. Uses
 routeShortName instead of the GTFS routeId to identify the stop.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeIdOrShortName</code> - </dd>
<dd><code>stopId</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="getPredictions-java.util.List-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops,
                                                                     int&nbsp;predictionsPerStop)</pre>
<div class="block">Returns copy of List<PredictionsForRouteStop> objects for each route/stop
 specified.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeStops</code> - Specified using route_short_name instead of route_id</dd>
<dd><code>predictionsPerStop</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="getPredictions-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops)</pre>
<div class="block">Returns copy of all predictions currently associated for each route/stop specified.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routeStops</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="getPredictionForVehicle-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionForVehicle</h4>
<pre>public&nbsp;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&nbsp;getPredictionForVehicle(java.lang.String&nbsp;vehicleId,
                                             java.lang.String&nbsp;routeShortName,
                                             java.lang.String&nbsp;stopId)</pre>
<div class="block">Gets predictions for specified route/stop and returns the first one for
 the specified vehicle.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vehicleId</code> - </dd>
<dd><code>routeShortName</code> - </dd>
<dd><code>stopId</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IpcPrediction for the specified vehicle/route/stop or null if
         there are no such predictions</dd>
</dl>
</li>
</ul>
<a name="getAllPredictions-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getAllPredictions(int&nbsp;maxPredictionsPerStop,
                                                                        long&nbsp;maxSystemTimeForPrediction)</pre>
<div class="block">Returns copy of all predictions for system, limited by
 maxPredictionsPerStop and maxPredictionTime.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxPredictionsPerStop</code> - Maximum number of predictions per route/stop/destination to
            clone.</dd>
<dd><code>maxSystemTimeForPrediction</code> - Max point in future want predictions for. This way can limit
            predictions when requesting a large number of them.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd>
</dl>
</li>
</ul>
<a name="updatePredictions-java.util.List-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePredictions</h4>
<pre>public&nbsp;void&nbsp;updatePredictions(java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;oldPredictionsForVehicle,
                              java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;newPredictionsForVehicle)</pre>
<div class="block">Updates predictions in the cache that are associated with a vehicle.
 Removes any that are in oldPredictionsForVehicle and adds all the ones in
 newPredictionsForVehicle.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldPredictionsForVehicle</code> - The old predictions to be removed.</dd>
<dd><code>newPredictionsForVehicle</code> - The new predictions. Can be null if only removing old
            predictions</dd>
</dl>
</li>
</ul>
<a name="removePredictions-org.transitime.core.VehicleState-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removePredictions</h4>
<pre>public&nbsp;void&nbsp;removePredictions(<a href="../../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</pre>
<div class="block">To be called when vehicle is being made unpredictable. Removes the 
 predictions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vehicleState</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PredictionDataCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/transitime/core/dataCache/VehicleDataCache.html" title="class in org.transitime.core.dataCache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/dataCache/PredictionDataCache.html" target="_top">Frames</a></li>
<li><a href="PredictionDataCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
